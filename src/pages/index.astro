---
import Card from '@/components/Card.astro';
import Layout from '@/layouts/Layout.astro';
import { storyblokApi } from '@/utils';
import StoryblokComponent from '@storyblok/astro/StoryblokComponent.astro';

let story: any;
try {
  const { data } = await storyblokApi('cdn/stories/home');
  story = data.story;
} catch (error) {
  return Astro.redirect('/404');
}
---

<Layout title="Welcome to Astro.">
  <main
    class="m-auto p-4 w-[800px] max-w-[calc(100%-2rem)] text-white text-[20px] leading-[1.6]"
  >
    <StoryblokComponent blok={story.content} />
    <h1 class="text-4xl font-bold leading-none text-center mb-4">About Me</h1>
    <h2 class="text-2xl font-semibold text-center">
      ... and my new Astro site!
    </h2>

    <p>
      I am working through Astro's introductory tutorial. This is the second
      page on my website, and it's the first one I built myself!
    </p>

    <p>
      This site will update as I complete more of the tutorial, so keep checking
      back and see how my journey is going!
    </p>

    <ul
      role="list"
      class="link-card-grid grid grid-cols-[repeat(auto-fit,minmax(24ch,1fr))] gap-8 p-0"
    >
      <Card
        href="#"
        title="lorem"
        body="Learn how Astro works and explore the official API docs."
      />
      <Card
        href="#"
        title="lorem"
        body="Supercharge your project with new frameworks and libraries."
      />
      <Card
        href="#"
        title="lorem"
        body="Explore a galaxy of community-built starter themes."
      />
      <Card
        href="#"
        title="lorem"
        body="Come say hi to our amazing Discord community. ❤️"
      />
      <Card
        href="#"
        title="lorem"
        body="Come say hi to our amazing Discord community. ❤️"
      />
    </ul>
  </main>
</Layout>
